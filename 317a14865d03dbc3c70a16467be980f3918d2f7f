{
  "comments": [
    {
      "key": {
        "uuid": "eb8b4505_1c0e4f43",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "Why do you want to stop service if PFR is not provisioned?\n\nDid you checked external interfaces(Redfish) for reporting the PFR \"Not provisioned\" state correctly in this case?",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "347e54c6_8dc74baa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-30T04:38:41Z",
      "side": 1,
      "message": "Updated. PFR service is stopped when PFR not supported. PFR provisioning status is reported in /Systems/system in redfish. Updated the commit message. Thank You.",
      "parentUuid": "eb8b4505_1c0e4f43",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f39d5938_79ffcc39",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "3. PFR Supported platform but \"PFR unProvisioned\"",
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "375bef8f_3f519ea2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-30T04:38:41Z",
      "side": 1,
      "message": "Updated this test case. Thank You",
      "parentUuid": "f39d5938_79ffcc39",
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d60bb465_d796db05",
        "filename": "service/CMakeLists.txt",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "I think this is fixed now.  Can you attempt to pull that patch(as separate patch though)?",
      "range": {
        "startLine": 7,
        "startChar": 6,
        "endLine": 7,
        "endChar": 54
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "023b0c11_08207184",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2020-12-02T22:02:51Z",
      "side": 1,
      "message": "There is a systemd D-Bus method to stop a service. I would think that would be preferable to starting a new systemctl process.\n\nBut, this seems unnecessary - why can\u0027t you just exit(0)? I briefly tested it and saw no bad effects from just exiting. Systemd does not restart the program (since we have Restart\u003don-failure), and it just shows it as \"inactive (dead)\"",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4e099d9_195bfeb1",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-16T06:11:13Z",
      "side": 1,
      "message": "Ack, Verified that exit(0) alone not serving the purpose, systemd is restarting the service with status as Active: activating (auto-restart).",
      "parentUuid": "023b0c11_08207184",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c72f485_57eb44d2",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "You can use D-Bus method call to perform the stop service.\n\nbusctl call org.freedesktop.systemd1 /org/freedesktop/systemd1 org.freedesktop.systemd1.Manager StartUnit ss \u003cservice file\u003e \"replace\";",
      "parentUuid": "a4e099d9_195bfeb1",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "367525d6_d05b07dc",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-30T04:38:41Z",
      "side": 1,
      "message": "Implemented. Thank You",
      "parentUuid": "9c72f485_57eb44d2",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91770258_3b71102e",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2021-01-05T20:49:25Z",
      "side": 1,
      "message": "Can you explain to me why exit(0) doesn\u0027t work? I don\u0027t understand because in my tests it does work fine, and that\u0027s exactly what Restore\u003don-failure is supposed to allow. Besides being simpler to implement, I think it\u0027s better that the application does not assume it\u0027s running as a systemd service to work correctly - debugging is easier in some cases when you can just run the application from the console.",
      "parentUuid": "367525d6_d05b07dc",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "472b69de_4398219c",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2021-01-12T14:10:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "91770258_3b71102e",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "012d5d37_025765e1",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2021-01-13T04:32:34Z",
      "side": 1,
      "message": "Tested several times with std::exit (EXIT_SUCCESS), and Restart\u003don-failure, on-abnormal, on-watchdog, Service restarted with below service status after exit(0).\nsystemctl status xyz.openbmc_project.PFR.Manager.service\n\n     Active: activating (auto-restart)\n    Process: 4434 ExecStart\u003d \u003cprocess_location\u003e (code\u003dexited, status\u003d0/SUCCESS)\n   Main PID: 4434 (code\u003dexited, status\u003d0/SUCCESS)\n\nI would like know your implementation and testing procedure and environment. Thank You.",
      "parentUuid": "472b69de_4398219c",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abd13c09_c785ee7c",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2021-01-23T03:46:42Z",
      "side": 1,
      "message": "I have been meaning to test it again and reply with the steps, but haven\u0027t had time. Sorry :) will try to do it next week if this is not urgent, otherwise, don\u0027t wait for me.",
      "parentUuid": "012d5d37_025765e1",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc9053d3_cd37ecd5",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 526,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "duplciate code. Write a common API to stop the service. \n\nIn fact you can use the systemd call which is provided above.",
      "range": {
        "startLine": 513,
        "startChar": 20,
        "endLine": 526,
        "endChar": 21
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7eae35e4_63eea500",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 526,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-30T04:38:41Z",
      "side": 1,
      "message": "Updated. Thank You",
      "parentUuid": "bc9053d3_cd37ecd5",
      "range": {
        "startLine": 513,
        "startChar": 20,
        "endLine": 526,
        "endChar": 21
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a8c7755_dbeb9339",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 533,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2020-12-02T22:02:51Z",
      "side": 1,
      "message": "Need to exit in this case also? When I tested this patch, pfr::getProvisioningStatus returns -1 because the CPLD does not respond at all. PFR is certainly not supported in that case, right?",
      "range": {
        "startLine": 531,
        "startChar": 0,
        "endLine": 533,
        "endChar": 23
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3b785bc_d9c86424",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 533,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-16T06:11:13Z",
      "side": 1,
      "message": "if i2c operation failed due to some other reason other than CPLD not responding then stopping the service is not recommended. Thank You",
      "parentUuid": "5a8c7755_dbeb9339",
      "range": {
        "startLine": 531,
        "startChar": 0,
        "endLine": 533,
        "endChar": 23
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fb23eee_da8947fe",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 533,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2021-01-05T20:49:25Z",
      "side": 1,
      "message": "If the CPLD does not respond, then getProvisioningStatus returns -1. So we should stop the program right?",
      "parentUuid": "f3b785bc_d9c86424",
      "range": {
        "startLine": 531,
        "startChar": 0,
        "endLine": 533,
        "endChar": 23
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5da0631_0d20c22b",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 533,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2021-01-12T14:10:32Z",
      "side": 1,
      "message": "Stopping the service if getProvisioningStatus returns -1. Thank You",
      "parentUuid": "3fb23eee_da8947fe",
      "range": {
        "startLine": 531,
        "startChar": 0,
        "endLine": 533,
        "endChar": 23
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afe9c7fc_6caa6a85",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 541,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2020-12-02T22:02:51Z",
      "side": 1,
      "message": "Why do you need to find the baseboard at all? Why not just call GetSubTree for xyz.openbmc_project.Configuration.PFR interface to find the PFR object?",
      "range": {
        "startLine": 541,
        "startChar": 5,
        "endLine": 541,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ea6fea8_8f50d236",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 541,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-16T06:11:13Z",
      "side": 1,
      "message": "Ack. Thank You",
      "parentUuid": "afe9c7fc_6caa6a85",
      "range": {
        "startLine": 541,
        "startChar": 5,
        "endLine": 541,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2cd937f5_ce62c97b",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 541,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "+1, Please do modify code to reflect this.",
      "parentUuid": "afe9c7fc_6caa6a85",
      "range": {
        "startLine": 541,
        "startChar": 5,
        "endLine": 541,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2d4dec9_3a944b1b",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 541,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-30T04:38:41Z",
      "side": 1,
      "message": "Implemented. Thank You",
      "parentUuid": "2cd937f5_ce62c97b",
      "range": {
        "startLine": 541,
        "startChar": 5,
        "endLine": 541,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d24d949_9432bef6",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 541,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2021-01-05T20:49:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b2d4dec9_3a944b1b",
      "range": {
        "startLine": 541,
        "startChar": 5,
        "endLine": 541,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbe42242_680becb0",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 601,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "Not the ideal way of Adding D-Bus object/interfaces first then checking PFR supported platforms. \n\nCreating of version object can be scheduled after checking the PFR supported platforms first.",
      "range": {
        "startLine": 593,
        "startChar": 3,
        "endLine": 601,
        "endChar": 38
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cfca73a4_fac24ab7",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 601,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-30T04:38:41Z",
      "side": 1,
      "message": "Updated. Thank You",
      "parentUuid": "fbe42242_680becb0",
      "range": {
        "startLine": 593,
        "startChar": 3,
        "endLine": 601,
        "endChar": 38
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16385d43_d48a6883",
        "filename": "xyz.openbmc_project.PFR.Manager.service",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2020-12-02T22:02:51Z",
      "side": 1,
      "message": "The argument for the mapper-wait instantiated service is supposed to be a D-Bus object path. So you probably want:\n\n mapper-wait@-xyz-openbmc_project-EntityManager.service\n mapper-wait@-xyz-openbmc_project-object_mapper.service\n\nWhen I tested this patch, pfr-manager never started because the dependencies could never be satisfied (invalid object paths).",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 59
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af2b0eca_9e82e05e",
        "filename": "xyz.openbmc_project.PFR.Manager.service",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-16T06:11:13Z",
      "side": 1,
      "message": "Ack. Checking on this. Thank You",
      "parentUuid": "16385d43_d48a6883",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 59
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73d86cc3_1744e10b",
        "filename": "xyz.openbmc_project.PFR.Manager.service",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "+1, These are invalid objects.",
      "parentUuid": "16385d43_d48a6883",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 59
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55c49b0c_80a6a819",
        "filename": "xyz.openbmc_project.PFR.Manager.service",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-30T04:38:41Z",
      "side": 1,
      "message": "Updated. Thank You",
      "parentUuid": "73d86cc3_1744e10b",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 59
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}