{
  "comments": [
    {
      "key": {
        "uuid": "eb8b4505_1c0e4f43",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "Why do you want to stop service if PFR is not provisioned?\n\nDid you checked external interfaces(Redfish) for reporting the PFR \"Not provisioned\" state correctly in this case?",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f39d5938_79ffcc39",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "3. PFR Supported platform but \"PFR unProvisioned\"",
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d60bb465_d796db05",
        "filename": "service/CMakeLists.txt",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "I think this is fixed now.  Can you attempt to pull that patch(as separate patch though)?",
      "range": {
        "startLine": 7,
        "startChar": 6,
        "endLine": 7,
        "endChar": 54
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "023b0c11_08207184",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2020-12-02T22:02:51Z",
      "side": 1,
      "message": "There is a systemd D-Bus method to stop a service. I would think that would be preferable to starting a new systemctl process.\n\nBut, this seems unnecessary - why can\u0027t you just exit(0)? I briefly tested it and saw no bad effects from just exiting. Systemd does not restart the program (since we have Restart\u003don-failure), and it just shows it as \"inactive (dead)\"",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4e099d9_195bfeb1",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-16T06:11:13Z",
      "side": 1,
      "message": "Ack, Verified that exit(0) alone not serving the purpose, systemd is restarting the service with status as Active: activating (auto-restart).",
      "parentUuid": "023b0c11_08207184",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c72f485_57eb44d2",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 479,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "You can use D-Bus method call to perform the stop service.\n\nbusctl call org.freedesktop.systemd1 /org/freedesktop/systemd1 org.freedesktop.systemd1.Manager StartUnit ss \u003cservice file\u003e \"replace\";",
      "parentUuid": "a4e099d9_195bfeb1",
      "range": {
        "startLine": 477,
        "startChar": 20,
        "endLine": 479,
        "endChar": 67
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc9053d3_cd37ecd5",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 526,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "duplciate code. Write a common API to stop the service. \n\nIn fact you can use the systemd call which is provided above.",
      "range": {
        "startLine": 513,
        "startChar": 20,
        "endLine": 526,
        "endChar": 21
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a8c7755_dbeb9339",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 533,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2020-12-02T22:02:51Z",
      "side": 1,
      "message": "Need to exit in this case also? When I tested this patch, pfr::getProvisioningStatus returns -1 because the CPLD does not respond at all. PFR is certainly not supported in that case, right?",
      "range": {
        "startLine": 531,
        "startChar": 0,
        "endLine": 533,
        "endChar": 23
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3b785bc_d9c86424",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 533,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-16T06:11:13Z",
      "side": 1,
      "message": "if i2c operation failed due to some other reason other than CPLD not responding then stopping the service is not recommended. Thank You",
      "parentUuid": "5a8c7755_dbeb9339",
      "range": {
        "startLine": 531,
        "startChar": 0,
        "endLine": 533,
        "endChar": 23
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afe9c7fc_6caa6a85",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 541,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2020-12-02T22:02:51Z",
      "side": 1,
      "message": "Why do you need to find the baseboard at all? Why not just call GetSubTree for xyz.openbmc_project.Configuration.PFR interface to find the PFR object?",
      "range": {
        "startLine": 541,
        "startChar": 5,
        "endLine": 541,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ea6fea8_8f50d236",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 541,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-16T06:11:13Z",
      "side": 1,
      "message": "Ack. Thank You",
      "parentUuid": "afe9c7fc_6caa6a85",
      "range": {
        "startLine": 541,
        "startChar": 5,
        "endLine": 541,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2cd937f5_ce62c97b",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 541,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "+1, Please do modify code to reflect this.",
      "parentUuid": "afe9c7fc_6caa6a85",
      "range": {
        "startLine": 541,
        "startChar": 5,
        "endLine": 541,
        "endChar": 19
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fbe42242_680becb0",
        "filename": "service/src/mainapp.cpp",
        "patchSetId": 5
      },
      "lineNbr": 601,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "Not the ideal way of Adding D-Bus object/interfaces first then checking PFR supported platforms. \n\nCreating of version object can be scheduled after checking the PFR supported platforms first.",
      "range": {
        "startLine": 593,
        "startChar": 3,
        "endLine": 601,
        "endChar": 38
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16385d43_d48a6883",
        "filename": "xyz.openbmc_project.PFR.Manager.service",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2020-12-02T22:02:51Z",
      "side": 1,
      "message": "The argument for the mapper-wait instantiated service is supposed to be a D-Bus object path. So you probably want:\n\n mapper-wait@-xyz-openbmc_project-EntityManager.service\n mapper-wait@-xyz-openbmc_project-object_mapper.service\n\nWhen I tested this patch, pfr-manager never started because the dependencies could never be satisfied (invalid object paths).",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 59
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af2b0eca_9e82e05e",
        "filename": "xyz.openbmc_project.PFR.Manager.service",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1000566
      },
      "writtenOn": "2020-12-16T06:11:13Z",
      "side": 1,
      "message": "Ack. Checking on this. Thank You",
      "parentUuid": "16385d43_d48a6883",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 59
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73d86cc3_1744e10b",
        "filename": "xyz.openbmc_project.PFR.Manager.service",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2020-12-17T11:14:50Z",
      "side": 1,
      "message": "+1, These are invalid objects.",
      "parentUuid": "16385d43_d48a6883",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 59
      },
      "revId": "317a14865d03dbc3c70a16467be980f3918d2f7f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}